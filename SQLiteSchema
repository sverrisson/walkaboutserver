BEGIN TRANSACTION;

-- CREATE DATABASE Walkabout;
-- DROP TABLE IF EXISTS Client;
-- DROP TABLE IF EXISTS MSession;
-- DROP TABLE IF EXISTS Metadata;

-- Table: Client
CREATE TABLE IF NOT EXISTS Client
(
ID CHAR(36) NOT NULL PRIMARY KEY,
At datetime,
Name VARCHAR(45),
Type VARCHAR(30),
SystemVersion VARCHAR(30)
);

-- Table: Session
CREATE TABLE IF NOT EXISTS MSession
(
ID INTEGER NOT NULL PRIMARY KEY,
ClientID CHAR(36) NOT NULL REFERENCES Client(ID),
At datetime,
Name VARCHAR(55),
Description TEXT,
Saved INTEGER
);

-- Table: Metadata
CREATE TABLE IF NOT EXISTS Metadata
(
ID INTEGER NOT NULL PRIMARY KEY,
SessionID INTEGER NOT NULL REFERENCES MSession(ID),
At datetime,
AccX INTEGER,
AccY INTEGER,
AccZ INTEGER
);

COMMIT TRANSACTION;